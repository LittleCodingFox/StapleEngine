<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<OutputType>Library</OutputType>
		<AppDesignerFolder>Properties</AppDesignerFolder>
		<TargetFrameworks>net8.0;net8.0-android</TargetFrameworks>
		<AllowUnsafeBlocks>true</AllowUnsafeBlocks>
		<EnableDefaultCompileItems>false</EnableDefaultCompileItems>

		<TargetFrameworks Condition="$([MSBuild]::IsOSPlatform('macOS'))">$(TargetFrameworks);net8.0-ios</TargetFrameworks>
	</PropertyGroup>
	
	<PropertyGroup Condition="$([MSBuild]::IsOSPlatform('Windows'))">
		<DefineConstants>$(DefineConstants);WINDOWS</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="$([MSBuild]::IsOSPlatform('Linux'))">
		<DefineConstants>$(DefineConstants);LINUX</DefineConstants>
	</PropertyGroup>
	
	<PropertyGroup Condition="$([MSBuild]::IsOSPlatform('macOS'))">
		<DefineConstants>$(DefineConstants);OSX</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(STAPLE_WINDOWS)'=='true'">
		<DefineConstants>$(DefineConstants);STAPLE_WINDOWS</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(STAPLE_LINUX)'=='true'">
		<DefineConstants>$(DefineConstants);STAPLE_LINUX</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(STAPLE_OSX)'=='true'">
		<DefineConstants>$(DefineConstants);STAPLE_OSX</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
		<PlatformTarget>AnyCPU</PlatformTarget>
		<DebugType>pdbonly</DebugType>
		<DebugSymbols>true</DebugSymbols>
		<Optimize>false</Optimize>
		<DefineConstants>$(DefineConstants);_DEBUG;STBSHARP_INTERNAL</DefineConstants>
		<ErrorReport>prompt</ErrorReport>
		<WarningLevel>4</WarningLevel>
	</PropertyGroup>
	
	<PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
		<PlatformTarget>AnyCPU</PlatformTarget>
		<DebugType>portable</DebugType>
		<DebugSymbols>true</DebugSymbols>
		<Optimize>true</Optimize>
		<DefineConstants>$(DefineConstants);NDEBUG;STBSHARP_INTERNAL</DefineConstants>
		<ErrorReport>prompt</ErrorReport>
		<WarningLevel>4</WarningLevel>
	</PropertyGroup>

	<PropertyGroup>
		<StripSymbols>true</StripSymbols>
		<PublishAot>true</PublishAot>
		<IsAotCompatible>true</IsAotCompatible>
	</PropertyGroup>

	<ItemGroup Condition=" '$(TargetFramework)' == 'net8.0' ">

		<Reference Include="SDL2-CS">
			<HintPath>..\..\Dependencies\build\dotnet\bin\Release\net8.0\SDL2-CS.dll</HintPath>
		</Reference>

	</ItemGroup>

	<ItemGroup>
		<Reference Include="MessagePack">
			<HintPath>..\..\Dependencies\build\dotnet\bin\Release\net8.0\MessagePack.dll</HintPath>
		</Reference>
		<Reference Include="Newtonsoft.Json">
			<HintPath>..\..\Dependencies\JsonNet\Newtonsoft.Json.dll</HintPath>
		</Reference>
		<Reference Include="NVorbis">
			<HintPath>..\..\Dependencies\build\dotnet\bin\Release\net8.0\NVorbis.dll</HintPath>
		</Reference>
		<Reference Include="NAudio">
			<HintPath>..\..\Dependencies\build\dotnet\bin\Release\net8.0\NAudio.dll</HintPath>
		</Reference>
		<Reference Include="JoltPhysicsSharp">
			<HintPath>..\..\Dependencies\JoltPhysicsSharp\JoltPhysicsSharp.dll</HintPath>
		</Reference>
	</ItemGroup>
	
	<ItemGroup>
		<EmbeddedResource Remove="MessagePack\**" />
		<None Remove="MessagePack\**" />
	</ItemGroup>

	<ItemGroup>
		<Compile Include="Attributes\AdditionalLibraryAttribute.cs" />
		<Compile Include="Attributes\AutoAssignEntityAttribute.cs" />
		<Compile Include="Attributes\ComponentIconAttribute.cs" />
		<Compile Include="Attributes\MinAttribute.cs" />
		<Compile Include="Attributes\RangeAttribute.cs" />
		<Compile Include="Attributes\TooltipAttribute.cs" />
		<Compile Include="Audio\AudioClip.cs" />
		<Compile Include="Audio\AudioListener.cs" />
		<Compile Include="Audio\AudioSource.cs" />
		<Compile Include="Audio\IAudioStream.cs" />
		<Compile Include="Audio\AudioSystem.cs" />
		<Compile Include="Audio\IAudioClip.cs" />
		<Compile Include="Audio\IAudioDevice.cs" />
		<Compile Include="Audio\IAudioListener.cs" />
		<Compile Include="Audio\IAudioSource.cs" />
		<Compile Include="Audio\OpenAL\OpenALAudioClip.cs" />
		<Compile Include="Audio\OpenAL\OpenALAudioDevice.cs" />
		<Compile Include="Audio\OpenAL\OpenALAudioListener.cs" />
		<Compile Include="Audio\OpenAL\OpenALAudioSource.cs" />
		<Compile Include="Audio\Readers\MP3AudioStream.cs" />
		<Compile Include="Audio\Readers\OggAudioStream.cs" />
		<Compile Include="Audio\Readers\WaveAudioStream.cs" />
		<Compile Include="Entities\CallbackComponent.cs" />
		<Compile Include="Entities\Entity+Components.cs" />
		<Compile Include="Entities\Entity+Instantiate.cs" />
		<Compile Include="Entities\Entity+Iteration.cs" />
		<Compile Include="Entities\EntityID.cs" />
		<Compile Include="Entities\Prefab.cs" />
		<Compile Include="External\Dr_Libs\Dr_Libs.cs" />
		<Compile Include="External\OpenAL-CS\src\DllName.cs" />
		<Compile Include="Input\GamepadAxis.cs" />
		<Compile Include="Input\GamepadButton.cs" />
		<Compile Include="Input\GamepadConnectionState.cs" />
		<Compile Include="Physics\3D\IPhysicsReceiver3D.cs" />
		<Compile Include="Physics\3D\Components\RigidBody3D.cs" />
		<Compile Include="Rendering\Animation\SkinnedAnimationController.cs" />
		<Compile Include="Rendering\Animation\SkinnedAnimationPoser.cs" />
		<Compile Include="Rendering\Animation\SkinnedAnimationPoserSystem.cs" />
		<Compile Include="Rendering\Animation\SkinnedAnimationStateMachine.cs" />
		<Compile Include="Rendering\Windowing\Impls\SDL2RenderWindow.cs" />
		<Compile Include="Utilities\CubicMeshBuilder.cs" />
		<Compile Include="Rendering\Mesh\MeshAsset.cs" />
		<Compile Include="Rendering\Animation\SkinnedMeshAnimationEvaluator.cs" />
		<Compile Include="Rendering\Animation\SkinnedMeshAnimator.cs" />
		<Compile Include="Rendering\Animation\SkinnedMeshAnimatorSystem.cs" />
		<Compile Include="Rendering\Mesh\SkinnedMeshRenderer.cs" />
		<Compile Include="Rendering\Mesh\SkinnedMeshRenderSystem.cs" />
		<Compile Include="Rendering\Screen.cs" />
		<Compile Include="Rendering\Tilemap\TileMapAsset.cs" />
		<Compile Include="Resources\Resources.cs" />
		<Compile Include="Serialization\Asset\AssetDatabase.cs" />
		<Compile Include="Serialization\Asset\AssetSerialization.cs" />
		<Compile Include="Serialization\Asset\IGuidAsset.cs" />
		<Compile Include="Serialization\Asset\IStapleAsset.cs" />
		<Compile Include="Attributes\AbstractComponentAttribute.cs" />
		<Compile Include="Attributes\AssetCategoryAttribute.cs" />
		<Compile Include="Attributes\ComponentCategoryAttribute.cs" />
		<Compile Include="Attributes\HideInInspectorAttribute.cs" />
		<Compile Include="Attributes\SortingLayerAttribute.cs" />
		<Compile Include="External\BGFX\bgfx.cs" />
		<Compile Include="External\BGFX\bgfx_dllname.cs" />
		<Compile Include="Rendering\Camera\Camera.cs" />
		<Compile Include="Rendering\Camera\CameraClearMode.cs" />
		<Compile Include="Rendering\Camera\CameraType.cs" />
		<Compile Include="Entities\Entity.cs" />
		<Compile Include="Entities\EntitySystemManager.cs" />
		<Compile Include="Entities\IComponent.cs" />
		<Compile Include="Entities\IEntitySystem.cs" />
		<Compile Include="Rendering\Mesh\MeshRenderer.cs" />
		<Compile Include="Rendering\Renderable.cs" />
		<Compile Include="Export\Export.cs" />
		<Compile Include="External\OpenAL-CS\src\AL10.cs" />
		<Compile Include="External\OpenAL-CS\src\AL11.cs" />
		<Compile Include="External\OpenAL-CS\src\ALC10.cs" />
		<Compile Include="External\OpenAL-CS\src\ALC11.cs" />
		<Compile Include="External\OpenAL-CS\src\ALEXT.cs" />
		<Compile Include="External\OpenAL-CS\src\EFX.cs" />
		<Compile Include="External\StbImageResizeSharp\src\CRuntime.cs" />
		<Compile Include="External\StbImageResizeSharp\src\MemoryStats.cs" />
		<Compile Include="External\StbImageResizeSharp\src\StbImageResize.cs" />
		<Compile Include="External\StbImageResizeSharp\src\StbImageResize.Generated.cs" />
		<Compile Include="External\StbImageWriteSharp\src\ColorComponents.cs" />
		<Compile Include="External\StbImageWriteSharp\src\CRuntime.cs" />
		<Compile Include="External\StbImageWriteSharp\src\ImageWriter.cs" />
		<Compile Include="External\StbImageWriteSharp\src\MemoryStats.cs" />
		<Compile Include="External\StbImageWriteSharp\src\StbImageWrite.cs" />
		<Compile Include="External\StbImageWriteSharp\src\StbImageWrite.Generated.cs" />
		<Compile Include="Player\Android\StapleActivity.cs" />
		<Compile Include="Player\iOS\StapleViewController.cs" />
		<Compile Include="Rendering\Sprites\SpriteAnimation.cs" />
		<Compile Include="Rendering\Sprites\SpriteRenderer.cs" />
		<Compile Include="External\StbImageSharp\src\AnimatedFrameResult.cs" />
		<Compile Include="External\StbImageSharp\src\AnimatedGifEnumerator.cs" />
		<Compile Include="External\StbImageSharp\src\ColorComponents.cs" />
		<Compile Include="External\StbImageSharp\src\Hebron.Runtime\CRuntime.cs" />
		<Compile Include="External\StbImageSharp\src\Hebron.Runtime\MemoryStats.cs" />
		<Compile Include="External\StbImageSharp\src\Hebron.Runtime\Utility.cs" />
		<Compile Include="External\StbImageSharp\src\ImageInfo.cs" />
		<Compile Include="External\StbImageSharp\src\ImageResult.cs" />
		<Compile Include="External\StbImageSharp\src\ImageResultFloat.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Bmp.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Common.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Gif.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Hdr.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Jpg.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Png.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Psd.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Tga.cs" />
		<Compile Include="External\StbImageSharp\src\StbImage.Generated.Zlib.cs" />
		<Compile Include="External\StbRectPackSharp\src\CRuntime.cs" />
		<Compile Include="External\StbRectPackSharp\src\Packer.cs" />
		<Compile Include="External\StbRectPackSharp\src\StbRectPack.cs" />
		<Compile Include="External\StbRectPackSharp\src\StbRectPack.Generated.cs" />
		<Compile Include="Math\Rect.cs" />
		<Compile Include="Math\RectFloat.cs" />
		<Compile Include="Math\Vector2Int.cs" />
		<Compile Include="MessagePackGenerated\MessagePackGenerated.cs" />
		<Compile Include="MessagePackGenerated\MessagePackInit.cs" />
		<Compile Include="Physics\3D\BodyMotionType.cs" />
		<Compile Include="Physics\3D\Components\BoxCollider3D.cs" />
		<Compile Include="Physics\3D\Components\CapsuleCollider3D.cs" />
		<Compile Include="Physics\3D\Components\Collider3D.cs" />
		<Compile Include="Physics\3D\Components\CylinderCollider3D.cs" />
		<Compile Include="Physics\3D\Components\MeshCollider3D.cs" />
		<Compile Include="Physics\3D\Components\SphereCollider3D.cs" />
		<Compile Include="Physics\3D\IBody3D.cs" />
		<Compile Include="Physics\3D\IPhysics3D.cs" />
		<Compile Include="Physics\3D\JoltPhysics\JoltBodyPair.cs" />
		<Compile Include="Physics\3D\JoltPhysics\JoltPhysics3D.cs" />
		<Compile Include="Physics\3D\JoltPhysics\JoltPhysicsBodyFilter.cs" />
		<Compile Include="Physics\3D\JoltPhysics\JoltPhysicsBroadPhaseLayerFilter.cs" />
		<Compile Include="Physics\3D\JoltPhysics\JoltPhysicsObjectLayerFilter.cs" />
		<Compile Include="Physics\3D\Physics3D.cs" />
		<Compile Include="Physics\3D\PhysicsTriggerQuery.cs" />
		<Compile Include="Physics\ColliderMask.cs" />
		<Compile Include="Physics\Physics.cs" />
		<Compile Include="Rendering\BlendMode.cs" />
		<Compile Include="Rendering\Texture\BGFXTextureCreateMethod.cs" />
		<Compile Include="Rendering\Texture\EmptyTextureCreateMethod.cs" />
		<Compile Include="Rendering\Texture\ITextureCreateMethod.cs" />
		<Compile Include="Rendering\Texture\PixelTextureCreateMethod.cs" />
		<Compile Include="Rendering\Texture\RawTextureData.cs" />
		<Compile Include="Rendering\Text\DefaultFont.cs" />
		<Compile Include="Rendering\Text\TextRenderer.cs" />
		<Compile Include="Rendering\Text\Glyph.cs" />
		<Compile Include="Rendering\Text\TextFont.cs" />
		<Compile Include="Rendering\Text\TextParameters.cs" />
		<Compile Include="Rendering\Windowing\Impls\AndroidRenderWindow.cs" />
		<Compile Include="Rendering\Windowing\Impls\iOSRenderWindow.cs" />
		<Compile Include="Rendering\Windowing\Impls\MetalView.cs" />
		<Compile Include="Rendering\Windowing\IRenderWindow.cs" />
		<Compile Include="Rendering\Mesh\MeshRenderSystem.cs" />
		<Compile Include="Rendering\Mesh\Mesh+Internal.cs" />
		<Compile Include="Rendering\Mesh\Mesh.cs" />
		<Compile Include="Rendering\Mesh\MeshIndexFormat.cs" />
		<Compile Include="Rendering\Mesh\MeshTopology.cs" />
		<Compile Include="Rendering\StandardTextureColorComponents.cs" />
		<Compile Include="Rendering\VertexBufferType.cs" />
		<Compile Include="Rendering\VideoFlags.cs" />
		<Compile Include="Rendering\WindowMode.cs" />
		<Compile Include="Resources\ResourcePak.cs" />
		<Compile Include="Serialization\Asset\AssetHolder.cs" />
		<Compile Include="Serialization\Asset\FolderAsset.cs" />
		<Compile Include="Serialization\Asset\SerializableStapleAsset.cs" />
		<Compile Include="Serialization\Audio\AudioClipMetadata.cs" />
		<Compile Include="Serialization\Audio\SerializableAudioClip.cs" />
		<Compile Include="Serialization\Json\JsonStringEnumConverter.cs" />
		<Compile Include="Serialization\MeshAsset\SerializableMeshAsset.cs" />
		<Compile Include="Serialization\Prefab\SerializablePrefab.cs" />
		<Compile Include="Serialization\Scene\SceneSerialization.cs" />
		<Compile Include="Serialization\Scene\SerializableScene.cs" />
		<Compile Include="Serialization\App\AppSettingsHeader.cs" />
		<Compile Include="Utilities\DictionaryExtensions.cs" />
		<Compile Include="Utilities\GuidGenerator.cs" />
		<Compile Include="Utilities\ObservableBox.cs" />
		<Compile Include="Utilities\ObservableManager.cs" />
		<Compile Include="Utilities\Threading.cs" />
		<Compile Include="Utilities\TypeCache.cs" />
		<Compile Include="World\World+Components.cs" />
		<Compile Include="World\World+Entities.cs" />
		<Compile Include="World\World+Iteration.cs" />
		<Compile Include="World\World.cs" />
		<Compile Include="Input\Input.cs" />
		<Compile Include="Input\KeyCode.cs" />
		<Compile Include="Input\MouseButton.cs" />
		<Compile Include="Math\Color.cs" />
		<Compile Include="Math\Color32.cs" />
		<Compile Include="Math\Math.cs" />
		<Compile Include="Math\Matrix3x3.cs" />
		<Compile Include="Math\Ray.cs" />
		<Compile Include="Player\AppEvent.cs" />
		<Compile Include="Player\AppPlayer.cs" />
		<Compile Include="Player\AppSettings.cs" />
		<Compile Include="Player\PlayerSettings.cs" />
		<Compile Include="Player\StaplePlayer.cs" />
		<Compile Include="Player\Time.cs" />
		<Compile Include="System\AppPlatform.cs" />
		<Compile Include="System\ISubsystem.cs" />
		<Compile Include="System\Platform.cs" />
		<Compile Include="System\SubsystemManager.cs" />
		<Compile Include="System\StapleSupport.cs" />
		<Compile Include="Math\AABB.cs" />
		<Compile Include="Rendering\FrustumCuller.cs" />
		<Compile Include="Rendering\IRenderSystem.cs" />
		<Compile Include="Rendering\IndexBuffer.cs" />
		<Compile Include="Rendering\LayerMask.cs" />
		<Compile Include="Rendering\Material.cs" />
		<Compile Include="Rendering\RenderBufferFlags.cs" />
		<Compile Include="Rendering\RenderSystem.cs" />
		<Compile Include="Rendering\RenderTarget.cs" />
		<Compile Include="Rendering\Windowing\RenderWindow.cs" />
		<Compile Include="Rendering\RendererType.cs" />
		<Compile Include="Rendering\Shader.cs" />
		<Compile Include="Rendering\Sprites\SpriteRenderSystem.cs" />
		<Compile Include="Rendering\Texture\Texture.cs" />
		<Compile Include="Rendering\Texture\TextureFlags.cs" />
		<Compile Include="Rendering\Text\TextComponent.cs" />
		<Compile Include="Rendering\Text\TextRenderSystem.cs" />
		<Compile Include="Rendering\VertexBuffer.cs" />
		<Compile Include="Rendering\VertexLayout.cs" />
		<Compile Include="Rendering\VertexLayoutBuilder.cs" />
		<Compile Include="Resources\ResourceManager.cs" />
		<Compile Include="Serialization\Material\MaterialMetadata.cs" />
		<Compile Include="Serialization\Material\SerializableMaterial.cs" />
		<Compile Include="Serialization\Shader\SerializableShader.cs" />
		<Compile Include="Serialization\Shader\ShaderMetadata.cs" />
		<Compile Include="Serialization\Texture\SerializableTexture.cs" />
		<Compile Include="Serialization\Texture\TextureMetadata.cs" />
		<Compile Include="Scene\Scene.cs" />
		<Compile Include="Scene\SceneList.cs" />
		<Compile Include="Entities\Transform.cs" />
		<Compile Include="Utilities\Log\ConsoleLog.cs" />
		<Compile Include="Utilities\Log\FSLog.cs" />
		<Compile Include="Utilities\Log\ILog.cs" />
		<Compile Include="Utilities\Log\Log.cs" />
		<Compile Include="Utilities\Randomizer.cs" />
		<Compile Include="Utilities\Storage.cs" />
	</ItemGroup>
</Project>